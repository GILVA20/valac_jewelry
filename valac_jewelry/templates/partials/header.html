<header class="fixed top-0 left-0 right-0 z-50 bg-white shadow-md">
  <div class="container mx-auto flex justify-between items-center p-4 md:p-6">
    <!-- Logo -->
    <div class="text-2xl sm:text-3xl md:text-4xl">
      <a href="/" class="transition-colors hover:text-[#D4AF37]">VALAC Joyas</a>
    </div>

    <!-- Botón hamburguesa (móvil) -->
    <button id="menu-toggle"
            class="lg:hidden text-3xl focus:outline-none"
            aria-label="Abrir menú">
      <i class="fas fa-bars" aria-hidden="true"></i>
    </button>

    <!-- NAV (desktop) -->
    <nav class="hidden lg:flex space-x-4 lg:space-x-6">
      <a href="/" class="transition-colors hover:text-[#D4AF37] text-lg lg:text-xl">Inicio</a>

      <!-- Colección + MEGA-MENÚ -->
      <div class="relative group">
        <a href="/collection"
           class="transition-colors hover:text-[#D4AF37] flex items-center gap-1 text-lg lg:text-xl">
          Colección
          <svg class="w-4 h-4 mt-0.5" fill="none" stroke="currentColor"
               viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M19 9l-7 7-7-7" />
          </svg>
        </a>

        <!-- MEGA-MENÚ optimizado -->
        <div class="absolute left-1/2 -translate-x-1/2 top-full w-[280px] min-w-max p-4
                    bg-white rounded-xl shadow-lg ring-1 ring-gray-200
                    opacity-0 invisible translate-y-2
                    transition-opacity transition-transform duration-200 ease-in-out
                    group-hover:visible group-hover:opacity-100 group-hover:translate-y-0
                    group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-0
                    z-50">
          <div class="flex flex-row gap-4 text-[#424242]">

            <!-- Categorías principales -->
            {% for g in ['Hombre','Mujer'] %}
            <div class="space-y-1">
              <h4 class="font-bold text-lg border-b-2 border-[#D4AF37] pb-1 mb-2">{{ g }}</h4>
              <div class="flex flex-col space-y-2">
                {% for c in ['aretes','cadenas','anillos','dijes','pulsos'] %}
                <a href="/collection?genero={{ g }}&category={{ c }}&mix_unisex=1"
                   class="block capitalize text-base hover:text-[#D4AF37] hover:pl-1 transition-all py-1 px-2 rounded-md hover:bg-gray-50">
                  <i class="fas fa-gem text-xs mr-1"></i>{{ c }}
                </a>
                {% endfor %}
              </div>
            </div>
            {% endfor %}

          </div>
        </div>
      </div>

      <a href="/about"   class="transition-colors hover:text-[#D4AF37] text-lg lg:text-xl">Sobre&nbsp;Nosotros</a>
      <a href="/contact" class="transition-colors hover:text-[#D4AF37] text-lg lg:text-xl">Contacto</a>
      <a href="/cart"
         class="transition-colors hover:text-[#D4AF37] flex items-center gap-1 text-lg lg:text-xl">
        <i class="fas fa-shopping-cart" aria-hidden="true"></i> Carrito
      </a>
    </nav>

    <!-- Redes -->
    <div class="hidden lg:flex space-x-4">
      <a href="#" class="transition-colors hover:text-[#D4AF37] text-2xl"><i class="fab fa-facebook"  aria-hidden="true"></i></a>
      <a href="#" class="transition-colors hover:text-[#D4AF37] text-2xl"><i class="fab fa-instagram" aria-hidden="true"></i></a>
      <a href="#" class="transition-colors hover:text-[#D4AF37] text-2xl"><i class="fab fa-twitter"   aria-hidden="true"></i></a>
    </div>
  </div>

  <!-- Menú móvil desplegable -->
  <div id="mobile-menu" class="hidden lg:hidden bg-white shadow-md">
    <nav class="flex flex-col p-4 space-y-2">
      <a href="/" class="py-2 px-3 rounded-md hover:bg-gray-100">Inicio</a>
      <div class="flex flex-col">
        <span class="py-2 px-3 font-semibold">Colección</span>
        {% for g in ['Hombre','Mujer'] %}
          <div class="ml-4">
            <span class="font-semibold text-[#D4AF37]">{{ g }}</span>
            <div class="flex flex-col ml-2">
              {% for c in ['aretes','cadenas','anillos','dijes','pulsos'] %}
                <a href="/collection?genero={{ g }}&category={{ c }}&mix_unisex=1" class="py-1 px-2 rounded-md hover:bg-gray-100 capitalize">
                  {{ c }}
                </a>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      </div>
      <a href="/about" class="py-2 px-3 rounded-md hover:bg-gray-100">Sobre Nosotros</a>
      <a href="/contact" class="py-2 px-3 rounded-md hover:bg-gray-100">Contacto</a>
      <a href="/cart" class="py-2 px-3 rounded-md hover:bg-gray-100"><i class="fas fa-shopping-cart"></i> Carrito</a>
    </nav>
  </div>

  <script>
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    menuToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</header>